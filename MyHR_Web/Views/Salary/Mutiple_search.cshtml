@model IEnumerable<MyHR_Web.ViewModel.CSalaryViewModel>
@{
    ViewData["Title"] = "SalaryList_supervisor";

    var Late = ViewBag.Late;
    var Leave = ViewBag.Leave;
    var DEPT = ViewBag.DEPT;
    var JOBTITLE = ViewBag.JOBTITLE;
}


<div class="card">
    <div class="card-header">
        <table table class="table table-bordered table-hover">
            <thead>

                <tr style="text-align:center">
                    @{ string checkbox = "checkbox-toggle";
                    }

                    <th>
                        <button type="button" class="@checkbox btn btn-default btn-sm">
                            <i class="far fa-square"></i>
                        </button>
                        @Html.DisplayNameFor(model => model.CDepartment)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.CEmployeeName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.CJobTitle)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Month_Salary)
                    </th>
                    <th>
                        差旅費
                    </th>
                    <th>
                        遲到扣款
                    </th>
                    <th>
                        請假扣款
                    </th>
                    <th>
                        詳細資料
                    </th>
                </tr>
            </thead>
            <tbody>

                @foreach (var item in Model)
                {
                    string CHECKBOX = "CHECKBOX";
                    <tr style="text-align:center">


                        <td>
                            <div class="@CHECKBOX icheck-primary">
                                <input type="checkbox" value="@item.CEmployeeId" name="Checkbox[]" id="check1">
                                <label for="check1"></label>
                                @Html.DisplayFor(modelItem => item.CDepartment)
                            </div>

                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CEmployeeName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CJobTitle)
                        </td>
                        @{ string Month_Salary = item.CDepartmentId.ToString() + "Month_Salary";    //動態給予Class
                            string Travel = item.CDepartmentId.ToString() + "Travel";
                            string Tabsense = item.CDepartmentId.ToString() + "Tabsense";
                            string LLeave = item.CDepartmentId.ToString() + "LLeave"; }


                        <td class="@Month_Salary">
                            @Html.DisplayFor(modelItem => item.Month_Salary)
                        </td>

                        <td class="@Travel">
                            @Html.DisplayFor(modelItem => item.CAmont_Travel)
                        </td>

                        <td class="@Tabsense subCate">
                            @Html.DisplayFor(modelItem => item.CAmont_TAbsense)
                        </td>

                        <td class="@LLeave subCate">
                            @Html.DisplayFor(modelItem => item.CAmont_Leave)

                        </td>
                        <td>
                            @Html.ActionLink("詳細資料", "Detail", new { id = item.CEmployeeId }, new { @class = "btn btn-success" })

                        </td>
                    </tr>
                }


                <tr style="text-align:center; background-color:tan; font-weight:bold">

                    <td colspan="3">
                        部門總計:
                    </td>

                    @{ string dep ="Month_Salary";
                        string travel = "Travel";
                        string late = "Tabsense";
                        string leave ="LLeave"; }

                    <td id="@dep"></td>
                    <td id="@travel"></td>
                    <td id="@late" class="subCate"></td>
                    <td id="@leave" class="subCate"></td>

                    <td>000000</td>

                </tr>


            </tbody>
        </table>
    </div>
</div>

<script>

    $(function () {
        //Enable check and uncheck all functionality
        $('.checkbox-toggle').click(function () {
            var clicks = $(this).data('clicks')
            if (clicks) {
                //Uncheck all checkboxes
                $('.CHECKBOX input[type=\'checkbox\']').prop('checked', false)
                $('.checkbox-toggle .far.fa-check-square').removeClass('fa-check-square').addClass('fa-square')
            } else {
                //Check all checkboxes
                $('.CHECKBOX input[type=\'checkbox\']').prop('checked', true)
                $('.checkbox-toggle .far.fa-square').removeClass('fa-square').addClass('fa-check-square')
            }
            $(this).data('clicks', !clicks)
        })






</script>